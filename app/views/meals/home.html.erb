
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<div class="banner" style="background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.1)), url(<%= image_path "banner.png" %>)" >
  <%# NAVBAR %>
  <div id="homenav">
    <div class="navbar navbar-expand-sm navbar-light navbar-lewagon" data-controller="navbar">
    <div class="container-fluid">
      <div class="left-icons">
        <div id="mySidebar" class="sidepanel" data-navbar-target="sidebar">
          <a class="closebtn" data-action="click->navbar#closeNav">&times;</a>
          <% if user_signed_in? %>
          <a href="#">Current orders</a>
          <a href="#">Past orders</a>
          <a href="#">My Meal listings</a>
          <%= link_to "Add a new meal", new_meal_path %>
          <% else %>
          <%= link_to "Signup", new_user_registration_path %>
          <%= link_to "Login", new_user_session_path %>
          <% end %>
        </div>

      <div class="d-flex align-items-center" id="main">
        <button class="openbtnhome center-cropped d-flex align-items-center" data-action="click->navbar#openNav">&#9776</button>
        <%= link_to root_path, class: "navbar-brand" do %>
          <%= image_tag "logo.png", width: 29, height: 35%>
        <% end %>
        </div>
      </div>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto">
          <% if user_signed_in? %>
            <%# <li class="nav-item active">
              <%= link_to "Sign Up", "#", class: "nav-link" %>
            <%# </li>
            <li class="nav-item">
              <%= link_to "Cart", cart_path, class: "nav-link" %>
            <%# </li> %>
            <li class="nav-item dropdown">
              <%= image_tag "https://avatars.githubusercontent.com/u/90439290?v=4", class: "avatar dropdown-toggle", id: "navbarDropdown", data: { bs_toggle: "dropdown" }, 'aria-haspopup': true, 'aria-expanded': false %>
              <div class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                <%= link_to "My orders", "#", class: "dropdown-item" %>
                <%= link_to "Log out", destroy_user_session_path, method: :delete, class: "dropdown-item" %>
              </div>
            </li>
          <% else %>
            <li class="nav-item ">
              <div>
                <%= link_to "Signup", new_user_session_path, class: "btn signup" %>
              </div>
            </li>
            <li class="nav-item">
              <div>
                <%= link_to "Login", new_user_session_path, class: "btn loginhome" %>
              </div>
            </li>
          <% end %>
        </ul>
      </div>
    </div>
  </div>
</div>
  <div class="container d-flex justify-content-center">
    <h1 style="text-align: center">Welcome to CoolBean</h1>
  </div>
  <div class="container d-flex justify-content-center">
    <p>Share your love for homemade food</p>
  </div>
  <div class="container d-flex justify-content-center">
     <%= form_tag(meals_path, method: "get", class: "form-inline d-flex align-items-between") do %>
        <div class="input-group">
          <%= text_field_tag :query, params[:query], class: "form-control", placeholder: "Enter your address", style: "padding-left: 12px" %>
        </div>
        <%= button_tag(type: 'submit', class: "btn search") do %>
          <i class="icon-ok icon-white"></i> Search
        <% end %>
      <% end %>
  </div>
</div>
<%# How it works section %>
<div class="container">
  <div>
    <h3 class="pt-5 d-flex justify-content-center"><strong>How it works</strong></h3>
  </div>
  <div class="row d-flex justify-content-center p-5">
    <div class="col d-flex justify-content-center">
      <div class="mx-5">
        <div class="d-flex justify-content-center pb-3"><%= image_tag "search.png", height: 50 %></div>
        <p class="d-flex justify-content-center"><strong>Search meals</strong></p>
        <p class="text-center">You can search by cuisine and dietary requirements in your area</p>
      </div>
    </div>
    <div class="col d-flex justify-content-center">
      <div class="mx-5">
        <div class="d-flex justify-content-center pb-3"><%= image_tag "checkout.png", height: 55 %></div>
        <p class="d-flex justify-content-center"><strong>Choose your meal</strong></p>
        <p class="text-center">Go to checkout where you can place your order</p>
      </div>
    </div>
    <div class="col d-flex justify-content-center">
      <div class="mx-5">
        <div class="d-flex justify-content-center pb-3"><%= image_tag "time.png", height: 52 %></div>
        <p class="d-flex justify-content-center"><strong>Search meals</strong></p>
        <p class="text-center">When itâ€™s time, meet the homecook chef and pickup your meal</p>
      </div>
    </div>
  </div>
</div>

<div class="container p-3">
  <div>
    <h3 class="pt-5 d-flex justify-content-center"><strong>Discover homecooked meals in Melbourne</strong></h3>
  </div>
<div class="row my-5">
    <% @meals.first(3).each do |listing| %>
      <div class="col-12 col-sm-6 col-md-4 mb-3">
        <div class="card-deck h-100">
          <div class="card h-100">
            <div id="<%= listing.id %>carouselExampleIndicators1" class="carousel slide" data-ride="carousel" data-interval="false">
              <ol class="carousel-indicators">
                <% listing.photos.each_with_index do |photo, index| %>
                  <li data-target="#<%= listing.id %>carouselExampleIndicators1" data-slide-to="<%= index %>" class="<%= index == 0 ? 'active' : '' %>"></li>
                <% end %>
              </ol>
              <div class="carousel-inner">
                <% if listing.photos.attached? %>
                  <% listing.photos.each_with_index do |photo, index| %>
                    <div class="carousel-item <%= index == 0 ? 'active' : '' %>">
                      <%= cl_image_tag photo.key, class:"carousel-img w-100", height: 200 %>
                    </div>
                  <% end %>
                <% else %>
                  <%= image_tag listing.picture_url, class:"carousel-img w-100", height: 200 %>
                <% end %>
              </div>
              <a class="carousel-control-prev" href="#<%= listing.id %>carouselExampleIndicators1" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#<%= listing.id %>carouselExampleIndicators1" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
            <div class="card-body d-flex justify-content-between">
                <div style="width: 70%">
                  <h6 class="card-title"><strong><%= listing.name %></strong></h6>
                  <p class="card-text pb-3"><small class="text-muted"><%= listing.description %></small></p>
                  <div ><%= link_to "See Listing", meal_path(listing), class: "btn see-listing" %></div>
                </div>
                <div class="card-text price-right" style="font-size: 14px">
                  <p>$ <%= listing.price %> per meal</p>
                </div>
              </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>

<div class="container p-4">
  <div class="row justify-content-around">
    <div class="col-4">
      <h3 id="meetthecook"><strong>Meet one of our home cooks</strong></h3>
      <p id="cookdescription"><strong>Amanda B.</strong></p>
      <br>
      <p id="cookdescription">Middle east</p>
      <p id="cookdescription">I was born and raised in Tehran, Iran, where I began learning traditional recipes from my grandmother. I'm honored to share our family recipes at your kitchen table, and I hope they'll fill you with a feeling of home.</p>
      <div class="d-flex justify-content-center">
        <%= link_to "View meals", "#", class: "btn search mt-3" %>
        </div>
    </div>
    <div class="col-4">
     <%= image_tag "homecook.png", height: 400 %>
    </div>
  </div>
</div>

<div class="container" id="choosecoolbean">
  <div class="row justify-content-around">
    <div class="col-3">
      <h3 id="whyyoushouldusecoolbean"><strong>Why you should use CoolBean</strong></h3>
      <div id="explorebtn">
        <%= link_to "Explore meals", "#", class: "btn exploremeals" %>
       </div>
    </div>
    <div class="col-3" id="whychoose">
      <p id="cookdescription"><strong>Support local cooks</strong></p>
      <p id="cookdescription">Unlike restaurants, you know exactly who is preparing your food</p>
    </div>
    <div class="col-3" id="whychoose">
      <p id="cookdescription"><strong>Explore new cultures</strong></p>
      <p id="cookdescription">Reconnect with your heritage or discover new cultures through traditional homemade dishes</p>
    </div>
     <div class="col-3" id="whychoose">
      <p id="cookdescription"><strong>Reasonable price</strong></p>
      <p id="cookdescription">Enjoy real homemade food at a reasonable price, without sacrificing time</p>
    </div>
  </div>
</div>

<div class="container p-4">
  <div class="row justify-content-around">
    <div class="col-6">
      <%= image_tag "flatlayfood.png", height: 500 %>
    </div>
    <div class="foodsafety col-6">
      <h3><strong>Food safety</strong></h3>
      <p>At Shef, we are committed to helping ensure that your food will always be safe to eat. All shefs are required to pass an accredited food safety certification exam and comply with all local laws and regulations. In regions that have not yet implemented home cooking laws, shefs are required to cook out of commercial kitchens or other legally permissible facilities.</p>
    </div>
  </div>
</div>
<div class="bannerbottom" style="background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.1)), url(<%= image_path "familyhome.png" %>)" >
  <div class="container d-flex justify-content-center">
    <h1>Start sharing your cooked meals today</h1>
  </div>
  <div class="container d-flex justify-content-center">
    <div class="d-flex justify-content-center mt-2">
    <%= link_to "Signup now", "#", class: "btn search" %>
    </div>
  </div>
</div>
